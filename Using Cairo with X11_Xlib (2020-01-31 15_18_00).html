<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns=http://www.w3.org/1999/xhtml xml:lang=en style lang=en><!--
 Page saved with SingleFile 
 url: https://www.cairographics.org/Xlib/ 
 saved date: Fri Jan 31 2020 15:18:00 GMT-0300 (Horário Padrão de Brasília)
--><meta charset=utf-8>
<title>Using Cairo with X11/Xlib</title>
<style>.header{margin:0;font-weight:bold;line-height:1em;display:block}#footer{border-top:1px solid #000}#backlinks{margin-top:1em}img{border-style:none}body{margin-left:4%;margin-right:4%;color:black;background-color:white}#footer{clear:both}.header{padding-bottom:1em}img{border:none}h1,.header,#title{font-family:sans-serif;clear:both;color:#f39914}h1,#title{font-weight:bold;font-size:150%}p,ol,ul{margin-left:4%;margin-right:4%}li p{margin-left:0%}pre{font-family:mono;margin-left:10%;margin-right:10%;border:1px solid #c5c5f6;background-color:#dbdbf7;padding:.5em}a:link{color:#4c4ce6}a:visited{color:#8f8fe6}a:hover{color:#f29915;text-decoration:underline}#logo{text-align:center}#footer{padding-top:.25em;font-size:80%}#pageinfo{float:right;text-align:right;width:49%;clear:none}#navcontainer ul{text-align:center;padding-bottom:5px;padding-top:5px;padding-left:0;margin-top:0;margin-left:0;background-color:#162284;color:white;width:100%;font-family:Arial,Helvetica,sans-serif;font-weight:bold;line-height:18px}#navcontainer ul li{display:inline;padding-left:0;padding-right:0;padding-bottom:5px;padding-top:5px}#navcontainer ul li a{padding-left:10px;padding-right:10px;padding-bottom:5px;padding-top:5px;color:white;text-decoration:none;border-right:1px solid #fff}#navcontainer ul li a:hover{color:#f39914}a{text-decoration:none}</style>
<link type=image/x-icon rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAABJsPYAP6v2ANfu/QB8xvgAxpiRABSZ8wDm0tAA0Ov9AOj1/gCAyPkAOaj0ALmBegAvpfQAwZCJAOvb2QAzp/UAS7H2AOjV0wDn1dIA5tPRACGf9ABStfcAyZ6ZADKm9QBJsPUAwOT8ANju/QAVmfMA0ev9AMuhnAA9qvQA4fL9AFa29gA0p/UAkc/5AEyx9gDC5fwA/f7/AObT0AC34PsA5dHPANPs/QDr9v4Apdj6AD6r9gA9q/UAGpzzAODx/QDPqaUA7/j/AO74/gDL6fwAhsv5AHvG+AC23/sA////AJfS+gD4/P8Aj8/5AEqx9gBXtvYANaf1AM7q/QCr2/sAltH6ANGtqQCx3fsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANzc3Ny80Mzc3MzQvNzc3Nzc3Nzc6MgktLQkxOjc3Nzc3Nzc3GSMFDxcFIxk3Nzc3NzcqPiIFBQEsBQUiPio3Nzc3QiUhBQU7AAUFPSVCNzc3NzYCBQUFEBAFBQUaJzc3NzdCGS4FBRgYBQUuGUI3Nzc3NwceCgwbGwwKHhw3Nzc3NyRAOBQFBQUFFDhAJDc3Nzc1NzcIIBUVPAg3NwM3Nzc3Pzc3NykrKyk3Nzc/Nzc3Nxw5NzcRJiYRNzc5HDc3Nzc3HxoOBhYEBg4aHzc3Nzc3NzcyEkENC0ESMjc3Nzc3Nzc3Nw4TMB0TDjc3Nzc3Nzc3Nzc3KCYmKDc3Nzc3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="></head>
<body>
<div class=header>
<div id=logo>
 <a href=https://www.cairographics.org/><img alt=cairo src="data:image/png;base64,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"></a>
</div>
</div>
<div id=navcontainer>
<ul id=navlist>
<li><a href=https://www.cairographics.org/news/>News</a></li>
<li><a href=https://www.cairographics.org/download/>Download</a></li>
<li><a href=https://www.cairographics.org/documentation/>Documentation</a></li>
<li><a href=https://www.cairographics.org/contact/>Contact</a></li>
<li><a href=https://www.cairographics.org/examples/>Examples</a></li>
</ul>
</div>
<div id=title>
Using Cairo with X11/Xlib
</div>
<div id=content>
<p>Cairo is a graphics library which offers common drawing primitives
independently of the actual backend. It comes with a set of backends, such as
PNG or PDF. One of these backends allows to use libcairo for drawing on X11
windows. Although there are very powerful libraries such as
<a href=http://qt-project.org/>Qt</a> or <a href=http://www.gtk.org/>GTK</a>, they are often far
too complex for simple applications.</p>
<p>Following I explain how to open an X11 window using Xlib and show how to create
graphics output with Cairo graphics.</p>
<h1>Opening a Window</h1>
<p>X11 is probably the most flexible graphical interface which makes it a little
bit complicated, at least at a first sight. To open a window, you need to do
the following steps:</p>
<ol>
<li><p> Connect to the X sever: <code>XOpenDisplay(3)</code>.</p></li>
<li><p> Select the output screen: <code>DefaultScreen(3)</code>.</p></li>
<li><p> Create a window: <code>XCreateSimpleWindow(3)</code>.</p></li>
<li><p> Choose input events: <code>XSelectInput(3)</code>. Please note that this is not
 mandatory for opening a window but typically you'd like to receive events
 such as mouse clicks and key board input.</p></li>
<li><p> Display the window: <code>XMapWindow(3)</code>.</p></li>
</ol>
<p>After the window is ready, it is mapped to a cairo Xlib surface. The following
function shows how to do it.</p>
<pre><code>cairo_surface_t *cairo_create_x11_surface0(int x, int y)
{
    Display *dsp;
    Drawable da;
    int screen;
    cairo_surface_t *sfc;

    if ((dsp = XOpenDisplay(NULL)) == NULL)
        exit(1);
    screen = DefaultScreen(dsp);
    da = XCreateSimpleWindow(dsp, DefaultRootWindow(dsp),
        0, 0, x, y, 0, 0, 0);
    XSelectInput(dsp, da, ButtonPressMask | KeyPressMask);
    XMapWindow(dsp, da);

    sfc = cairo_xlib_surface_create(dsp, da,
        DefaultVisual(dsp, screen), x, y);
    cairo_xlib_surface_set_size(sfc, x, y);

    return sfc;
}
</code></pre>
<h1>Receiving Events</h1>
<p>The next task is to receive an event. The function from above configured the
window to receive mouse button and keyboard events. The function
<code>XNextEvent(3)</code> returns the next event of the X server's event queue and it
blocks if the queue is empty. If blocking is not an option for your tool
because you have permanent interaction -- such as in e.g. computer games -- you
have to check if there are events in the queue before retrieving it with
<code>XNextEvent(3)</code> to avoid blocking. This is done with <code>XPending(3)</code>. The
function immediately returns the number of events in the queue. Thus, it
returns 0 if there are no events.</p>
<p><code>XNextEvent(3)</code> returns an <code>XEvent</code> which actually is a union of all different
kinds of X events. The type field distinguishes between them. The <code>XKeyEvent</code>
receives key codes which have to be translated with <code>XLookupString(3)</code> to
symbols. All symbols are defined in <code>X11/keysyndef.h</code>. The following function
shows how to do it.</p>
<pre><code>int cairo_check_event(cairo_surface_t *sfc, int block)
{
    char keybuf[8];
    KeySym key;
    XEvent e;

    for (;;)
    {
        if (block || XPending(cairo_xlib_surface_get_display(sfc)))
            XNextEvent(cairo_xlib_surface_get_display(sfc), &amp;e);
        else
            return 0;

        switch (e.type)
        {
            case ButtonPress:
                return -e.xbutton.button;
            case KeyPress:
                XLookupString(&amp;e.xkey, keybuf, sizeof(keybuf), &amp;key, NULL);
                return key;
            default:
                fprintf(stderr, "Dropping unhandled XEevent.type = %d.\n", e.type);
        }
    }
}
</code></pre>
<p>Putting all this together creates a first simple window example. Download the
<a href=https://www.cypherpunk.at/files/2014/11/cairo_xlib_simple.c>cairo_xlib_simple.c</a>
source file.</p>
<h1>Animations and Full Screen</h1>
<p>To create animations you simple repaint the image in a loop. The problem is
that you basically have no control about the timing when the X server actually
updates the screen. All graphic operations are queued and at some time the
queue is processed by the X server. This creates the problem that the
animation might flicker. The solution is to push all operations to a group
(<code>cairo_push_group()</code>) instead of directly drawing to the surface. Finally the
group is popped to the Cairo drawing source (<code>cairo_pop_group_to_source()</code>) and
painted (<code>cairo_paint()</code>) all at once. Finally we force the X server to flush
its queue (<code>cairo_surface_flush()</code>). Although this produces good results you
should be aware that this (Cairo + Xlib) is not the method of choice if you
intend to write a high speed graphics intensive computer game. If this is the
case you should start to learn <a href=https://www.opengl.org/>OpenGL</a> or
<a href=https://www.libsdl.org/>SDL</a>.</p>
<p>Making the window fullscreen seems to be a well protected X11 secret.
Fullscreen is a specific property of a window, such as "maximized",
"minimized", and similar ones. The property <code>_NET_WM_STATE_FULLSCREEN</code> is set
with the function <code>XChangeProperty(3)</code>.</p>
<p>Putting all this together leads to this second final example <a href=https://www.cypherpunk.at/files/2014/11/cairo_xlib.c>cairo_xlib.c</a>.</p>
<p>A last note: since the size of a window can change you have to react
accordingly. The window change event is sent to the event queue as an
<code>XConfigureEvent</code>. It contains the new width and height which has to be passed
to the Cairo surface with <code>cairo_xlib_surface_set_size()</code>.</p>
</div>
<div id=footer>
<div id=pageinfo>
<div id=backlinks>
Links:
<a href=https://www.cairographics.org/documentation/>documentation</a>
<a href=https://www.cairographics.org/examples/>examples</a>
<a href=https://www.cairographics.org/>index</a>
</div>
<div class=pagedate>
Last edited <span class=date>Wed Nov 19 17:29:49 2014</span>
</div>
</div>
</div>
